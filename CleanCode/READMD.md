# 代码整洁之道

> 作者： Robert C.Martin   
> 译者: 韩磊   
> 出版时间： 2010-01-01   
> 人民邮电出版社出版发行   

> 代码质量与其整洁度成正比，干净的代码，既在质量上较为可靠，也为后期维护、升级奠定了良好基础、作为编程领域的佼佼者，本书作者给出了一系列行之有效的整洁代码操作实践

<hr>


**2017-07-24**

> 小处诚实非小事

> 这就是人类工厂：懂思考，会感受的编码人，他们由产品备忘或用户故事开始创造产品

> 5S哲学： 整理（组织）、整顿（整齐）、清楚（清洁）、清洁（标准化）、身美（自律）

> 写出可读的代码，重要程度不亚于写出可执行的代码

> 离开时要比进入时更整洁

- 细节之中另有天地，涉及到 命名、缩进、代码组织、清理无用臃肿代码、代码改进

<hr>

**2017-07-26**

### 整洁代码

> 我们永远无法抛弃必要的精准性，所以代码永存

所以程序员永存 

> 勒布朗（LeBlanc）法则：稍后等于永不

根据我的感觉，基本是真的

> 花时间保持代码整洁不但有关效率，还有关生存

赶时间或者没有优秀的架构师进行整体设计，导致代码毫无规律混乱，维护扩展越来越难，从而无法赶上最后期限

> 程序员遵从不了解混乱风险的经理的意愿，也是不专业的做法

经理的视角不一样，他承受着最后期限的压力，往往追求的是速度

> 简单代码依其重要顺序：能通过所有测试； 没有重复代码； 体现系统中的全部设计理念； 包括尽可能少的实体，比如类、方法、函数等；

> 减少重复代码，提高表达力，提早构建简单抽象

Ron Jeffries写整洁代码的方法

> 童子军军规 --- 让营地比你来时更干净

使代码随时间流逝而越来越好，签出代码时比你签入时更整洁

### 有意义的命名

> 让变量名副其实

使变量能表达自身存在的意义

> 程序员必须避免掩藏代码本意的错误线索

> 以相同方式拼写出同样的概念才是信息

比如使用 O(大写的字母o)、l(小写的字母L) 来做变量

> 做有意义的区分

避免 ProductData 与 ProductInfo 之类的

> 使用堵得出来的名称

如 generationTimestamp 这种变量 生成时间戳 也可以适当的进行简写 genTimes

> 使用可搜索的名称

使变量在整篇代码中能轻易的搜索出来

> 避免使用编码

如 m_xxx, iXXX, i_xxx 这种

> 避免思维映射

> 类名和对象名应该是名词或名词短语

> 方法名应当是动词或动词短语

> 别扮可爱 

> 每个概念对应一个词

> 别用双关语

> 使用解决方案领域名称

> 使用源自所涉问题领域的名称

> 添加有意义的语境

> 只要短名称足够清楚，就要比长名称好，别给名称添加不必要的语境

良好的变量命名可以增加代码的可读性，在维护别人的代码时，可以重新变更变量名称使其更易读   

就算写了多年代码，自己也没能做好这些工作~~！

<hr>

**2017-07-28**

### 函数

> 函数的第一规则是要短小，第二条规则是还要更短小

> 函数应该做一件事，做好这件事，只做这件事

> 只做一件事的函数无法被合理地切分为多个区段

> 要确保函数只做一件事，函数中的语句都要在同一抽象层级上

> 函数越短小，功能越集中，就越便于取个好名字

> 普遍而言，应避免使用输出参数，如果函数必须要修改某种状态，就修改所属对象的状态

> 函数要么做什么事，要么回答什么事，但二者不可得兼

> 使用异常替代返回错误码

> 处理错误的函数不该做其他事

> 别重复自己， Do Not Repeat Yourself

> 重复可能是软件中一切邪恶的根源

> 只要函数保持短小，偶尔出现的return、break或continue语句没有坏处，甚至还比单入单出原则更具有表达力，goto只在大函数中才有道理，所以应该避免使用

> 函数是语言的动词，类是名词

这是针对面向对象语言而言，c++、java

> 大师级程序员把系统当做故事来讲，而不是当做程序来写

与写文章一样，函数不是一蹴而就就能写出规范短小的函数的，需要先写出一定功能的函数，然后分解函数、修改名称、消除重复。